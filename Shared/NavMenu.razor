<header>
    <nav class="navbar navbar-expand-lg navbar-dark d-none d-lg-block" style="z-index: 2000;">
        <div class="container-fluid">
            <a class="navbar-brand nav-link" href="/">
                <strong>Futurist</strong>
            </a>
            <button class="navbar-toggler" type="button" data-mdb-toggle="collapse" data-mdb-target="#navbarExample01"
                    aria-controls="navbarExample01" aria-expanded="false" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
        </div>
    </nav>
    <div id="intro" class="bg-image shadow-2-strong">
        <div class="mask" style="background-color: rgba(0, 0, 0, 0.8);">
            <div class="container d-flex align-items-center justify-content-center h-100">
                <div class="text-white">
                    <h1 class="mb-3 text-center">Reading your future</h1>
                    <div class="row d-flex justify-content-center">
                        <div class="col-md-12">
                            <div class="form-outline mb-4">
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" @bind="isChecked">
                                    <label class="form-check-label">
                                        Would you like a "god mode"?
                                    </label>
                                </div>
                                <input type="text" class="form-control question" placeholder="Type here" @bind="question" @oninput="@(e => InputValue = e.Value.ToString())" @onkeydown="@(async (e) => { if (e.Key == "Enter") { await Answer(); } })">
                            </div>
                        </div>
                    </div>
                    <div class="row d-flex justify-content-center text-center">
                        @if (!string.IsNullOrEmpty(answer) && !string.IsNullOrEmpty(question))
                        {

                            <div class="col-md-12">
                                <strong><em>@answer</em></strong>
                            </div>

                        }
                    </div>
                </div>
          </div>
        </div>
    </div>
</header>
@code {
    private string? answer;
    private string? InputValue { get; set; }
    private string? question;
    private bool isChecked = false;

    private void HandleCheckboxChange(ChangeEventArgs e)
    {
        isChecked = (bool)e.Value;
    }

    private async Task Answer()
    {
        question = InputValue;

        answer = await predictionService.GetAnswerAsync(question, isChecked);
    }
}